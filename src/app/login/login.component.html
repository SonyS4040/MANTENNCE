<div class="login-container">
  <h2>تسجيل دخول الموظفين</h2>
  <p>الرجاء تسجيل الدخول أو إنشاء حساب جديد للوصول إلى لوحة التحكم.</p>
  
  <form [formGroup]="loginForm" novalidate>
    <div class="form-group">
      <label for="email">البريد الإلكتروني</label>
      <input type="email" id="email" formControlName="email">
      @if (loginForm.get('email')?.touched && loginForm.get('email')?.hasError('required')) {
        <div class="error">حقل البريد الإلكتروني مطلوب.</div>
      }
      @if (loginForm.get('email')?.touched && loginForm.get('email')?.hasError('email')) {
        <div class="error">الرجاء إدخال بريد إلكتروني صحيح.</div>
      }
    </div>

    <div class="form-group">
      <label for="password">كلمة المرور</label>
      <input type="password" id="password" formControlName="password">
      @if (loginForm.get('password')?.touched && loginForm.get('password')?.hasError('required')) {
        <div class="error">حقل كلمة المرور مطلوب.</div>
      }
       @if (loginForm.get('password')?.touched && loginForm.get('password')?.hasError('minlength')) {
        <div class="error">يجب أن تكون كلمة المرور 6 أحرف على الأقل.</div>
      }
    </div>

    @if (authError) {
      <div class="auth-error">{{ authError }}</div>
    }

    <div class="button-group">
      <button type="button" (click)="handleLogin()" class="submit-btn" [disabled]="loginForm.invalid || isSubmitting">
        @if (isSubmitting) {
          <span>جاري الدخول...</span>
        } @else {
          <span>تسجيل الدخول</span>
        }
      </button>
      <button type="button" (click)="handleSignup()" class="secondary-btn" [disabled]="loginForm.invalid || isSubmitting">
        إنشاء حساب جديد
      </button>
    </div>
  </form>
</div>