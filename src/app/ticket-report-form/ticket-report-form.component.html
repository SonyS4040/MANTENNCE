<div class="detail-section">
  <h3>التقرير الفني</h3>
  <form [formGroup]="reportForm" (ngSubmit)="saveReport()" class="report-form">
    <div class="form-group">
      <label for="technical_inspection_notes">ملاحظات الفحص الفني المبدئي</label>
      <textarea id="technical_inspection_notes" formControlName="technical_inspection_notes" rows="4"></textarea>
    </div>
    <div class="form-group">
      <label for="repair_notes">الإجراءات التي تمت وقطع الغيار المستخدمة</label>
      <textarea id="repair_notes" formControlName="repair_notes" rows="4"></textarea>
    </div>
    <div class="form-group">
      <label for="handover_notes">ملاحظات تسليم الجهاز للعميل</label>
      <textarea id="handover_notes" formControlName="handover_notes" rows="4"></textarea>
    </div>
    <button type="submit" class="save-report-btn" [disabled]="isSavingReport() || reportForm.pristine">
      @if(isSavingReport()) { <span>جاري الحفظ...</span> } @else { <span>حفظ بيانات التقرير</span> }
    </button>
  </form>
</div>